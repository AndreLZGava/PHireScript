<?php
require 'vendor/autoload.php';
require_once('compilerHelper.php');

use PHPScript\Transpiler;

$transpiler = new Transpiler(true);

$file = $argv[1];

if (!file_exists($file)) {
    die("File not found: $file\n");
}

$code = file_get_contents($file);

try {
    $result = $transpiler->compile($code);
    echo "\n\033[1;32mâœ” SUCCESSFUL PHP OUTPUT\033[0m\n";
    echo $result . "\n";
} catch (\Exception $e) {
    getErrorInterface($e, $transpiler, $code);
}
