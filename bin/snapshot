<?php

require __DIR__ . '/../vendor/autoload.php';

use PHireScript\Compiler;
use PHireScript\Core\CompileMode;
use PHireScript\Core\CompilerContext;

$sourceDir = null;
$distDir = null;

if ($argc > 3) {
    $sourceDir = rtrim($argv[1], '/');
    $distDir = rtrim($argv[2], '/');
}


$context = new CompilerContext(CompileMode::SNAPSHOT);

$compiler = new Compiler($context);
$compiler->compile($sourceDir, $distDir);
